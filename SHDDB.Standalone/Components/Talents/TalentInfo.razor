@using SHDDB.Common.Extensions
@using SHDDB.CommonUI.Content
@using SHDDB.DTO.DAL
@using SHDDB.CommonUI.Styling
@using SHDDB.DTO.Enums

<MudContainer @onclick=OnExpandCollapseClick Class="d-flex flex-column">
    @if (Talent.Type == TalentType.Perfect)
    {
        <MudBadge Origin="Origin.CenterRight" Bordered Icon="@Icons.Material.Filled.KeyboardDoubleArrowUp" BadgeClass="ml-2">
            <MudText Typo="Typo.h5" Color="Color.Primary">@Talent.Name</MudText>
        </MudBadge>
    }
    else
    {
        <MudText Typo="Typo.h5" Color="Color.Primary">@Talent.Name</MudText>
    }
    <MudText Typo="Typo.subtitle2">@TalentContent.GetTalentSummary(Talent.Values)</MudText>
    @if (!Minimal)
    {
        <MudCollapse Expanded="_expandedDetails">
            <MudDivider DividerType="DividerType.Middle" />
            This content is collapsible.
        </MudCollapse>
    }
</MudContainer>

@code {
    [Parameter] public required TalentData Talent { get; set; }
    [Parameter] public bool Minimal { get; set; } = false;

    private bool _expandedDetails = false;

    private void OnExpandCollapseClick()
    {
        _expandedDetails = !_expandedDetails;
    }
}
